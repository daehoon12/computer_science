# Application Layer  

## Application Layer  
- OSI 7 Layers에서 Application Layer는 일종의 User Interface 역할을 한다.  
- 바로 아래의 Presentation Layer와 상호 작용을 할 수 있는 데이터와 그림을 User에게 보여주는 역할  

## Network Application  
- 서로 다른 End System에서 동작하고 Network 상에서 통신  
- P2P 구조, Client-Server 구조 등

## 프로세스 간 통신  
- Process : Host에서 실행 중인 프로그램  
- 호스트 내에서 두 프로세스는 IPC(Inter Process Communication)으로 통신함  
- 다른 호스트 간의 프로세스 통신은 Message를 교환하여 통신  
- 클라이언트-서버의 통신에서 클라이언트 프로세스는 통신을 개시하고, 서버는 세션을 시작하기 위해 접속을 기다리는 프로세스.  
- P2P 구조의 Application은 클라이언트와 서버 프로세스를 모두 가진다.  

## Socket  
- 프로세스는 Socket을 통해 Network로 메세지를 송수신한다. (즉 다른 Host)  
- 소켓은 출입구와 유사. (Sender는 Socket을 통해 Messasge를 Network로 보내고, Receiver의 Socket으로 전달한다.)  

## 프로세스의 주소  
- 메세지 수신을 위해서는 프로세스를 구분하는 식별자가 필요  
- Host는 32비트 IP 주소로 식별  
- 식별자는 Host의 프로세스와 관련된 **IP주소와 Port Number**를 포함  
Ex) HTTP 메시지를 gaia.cs.umass.edu 웹 서버에 전송  
IP 주소: 128.119.245.12  
포트 번호: 80  

## Web과 HTTP  
- Web Page는 Object들로 구성 (Object는 HTML, JPEG 이미지, 자바 애플릿 등)  
- 웹 페이지는 **기본 HTML 파일 + 여러 참조 객체**들로 구성  
- 각 객체는 URL(Uniform Resource Locator)로 지정 (URL은 Server의 Host name과 Object의 경로 이름으로 구성)  

![image](https://user-images.githubusercontent.com/32921115/104991695-b121a880-5a62-11eb-9641-283056424c3b.png)

## HTTP  

![image](https://user-images.githubusercontent.com/32921115/104991743-cd254a00-5a62-11eb-837d-0b4c3f7e6139.png)

- 웹 어플리케이션 계층 프로토콜  
- 클라이언트 : Web Object들을 요청하고 받아서 보여주는 웹 브라우저  
- 서버 : 요청에 응답하여 Object들을 보내는 Web Server  
- HTTP는 **TCP**를 사용  
- HTTP는 **Stateless Protocol** (**서버는 클라이언트의 과거 요청들에 대한 정보를 유지하지 않는다.**)  

### 동작  
1. Client는 Port Number 80으로 Server에게 TCP 연결 (Socket 생성)  
2. Server는 Client의 TCP 연결 요청을 수락  
- Web Browser (HTTP 클라이언트)와 Web Server (HTTP Server) 사이에 HTTP Message(어플리케이션 계층 프로토콜 메세지) 를 교환  

## HTTP 연결  
- 비지속 연결과 지속 연결이 있음  

### 비지속 연결  
- Request, Answer의 쌍이 **분리된 TCP 연결**을 통해 송수신  
- 하나의 TCP 연결로 **하나의 객체**만 전송  
